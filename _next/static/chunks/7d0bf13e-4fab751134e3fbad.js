"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1255],{37054:function(t,e,n){n.d(e,{Ji:function(){return M},Jx:function(){return P},b6:function(){return c},nx:function(){return it}});var i=n(67294),o=n(73935),r=("undefined"!=typeof globalThis||"undefined"!=typeof window||void 0!==n.g&&n.g,function(t,e,n,i,o,r,s,a){var h,p,u;if(!t)throw void 0===e?u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings."):(h=[n,i,o,r,s,a],p=0,(u=new Error(e.replace(/%s/g,(function(){return h[p++]})))).name="Invariant Violation"),u.framesToPop=1,u});const s=(0,i.createContext)(null);function a(t){google.maps.event.removeListener(t)}function h(t=[]){t.forEach(a)}function p({updaterMap:t,eventMap:e,prevProps:n,nextProps:i,instance:o}){r=i,s=o;var r,s;e=((t,e,n)=>Object.keys(t).reduce((function(n,i){return e(n,t[i],i)}),n))(e=e,(function(t,e,n){return"function"==typeof r[n]&&t.push(google.maps.event.addListener(s,e,r[n])),t}),[]);return((t,e,n,i)=>{const o={};var r,s;r=t,s=(t,r)=>{var s=n[r];s!==e[r]&&(o[r]=s,t(i,s))},Object.keys(r).forEach((function(t){return s(r[t],t)}))})(t,n,i,o),e}const u={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},l={extraMapTypes(t,e){e.forEach((function(e,n){t.mapTypes.set(String(n),e)}))},center(t,e){t.setCenter(e)},clickableIcons(t,e){t.setClickableIcons(e)},heading(t,e){t.setHeading(e)},mapTypeId(t,e){t.setMapTypeId(e)},options(t,e){t.setOptions(e)},streetView(t,e){t.setStreetView(e)},tilt(t,e){t.setTilt(e)},zoom(t,e){t.setZoom(e)}};class c extends i.PureComponent{constructor(){super(...arguments),this.state={map:null},this.registeredEvents=[],this.mapRef=null,this.getInstance=()=>null===this.mapRef?null:new google.maps.Map(this.mapRef,this.props.options),this.panTo=t=>{const e=this.getInstance();e&&e.panTo(t)},this.setMapCallback=()=>{null!==this.state.map&&this.props.onLoad&&this.props.onLoad(this.state.map)},this.getRef=t=>{this.mapRef=t}}componentDidMount(){const t=this.getInstance();this.registeredEvents=p({updaterMap:l,eventMap:u,prevProps:{},nextProps:this.props,instance:t}),this.setState((function(){return{map:t}}),this.setMapCallback)}componentDidUpdate(t){null!==this.state.map&&(h(this.registeredEvents),this.registeredEvents=p({updaterMap:l,eventMap:u,prevProps:t,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){null!==this.state.map&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),h(this.registeredEvents))}render(){return i.createElement("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName},i.createElement(s.Provider,{value:this.state.map},null!==this.state.map?this.props.children:i.createElement(i.Fragment,null)))}}const d="undefined"!=typeof document,g=t=>!(!t.href||0!==t.href.indexOf("https://fonts.googleapis.com/css?family=Roboto"))||("style"===t.tagName.toLowerCase()&&t.styleSheet&&t.styleSheet.cssText&&0===t.styleSheet.cssText.replace("\r\n","").indexOf(".gm-style")?!(t.styleSheet.cssText=""):"style"===t.tagName.toLowerCase()&&t.innerHTML&&0===t.innerHTML.replace("\r\n","").indexOf(".gm-style")?!(t.innerHTML=""):"style"===t.tagName.toLowerCase()&&!t.styleSheet&&!t.innerHTML),f=()=>{const t=document.getElementsByTagName("head")[0],e=t.insertBefore.bind(t),n=(t.insertBefore=function(n,i){g(n)||Reflect.apply(e,t,[n,i])},t.appendChild.bind(t));t.appendChild=function(e){g(e)||Reflect.apply(n,t,[e])}};const m="script-loader",v="weekly";let y;i.PureComponent;const _=i.createElement((function(){return i.createElement("div",null,"Loading...")}),null);function C(t,e){if(t===e)return!0;if(t&&e&&"object"==typeof t&&"object"==typeof e){if(t.constructor!==e.constructor)return!1;var n,i,o;if(Array.isArray(t)){if((n=t.length)!=e.length)return!1;for(i=n;0!=i--;)if(!C(t[i],e[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();if((n=(o=Object.keys(t)).length)!==Object.keys(e).length)return!1;for(i=n;0!=i--;)if(!Object.prototype.hasOwnProperty.call(e,o[i]))return!1;for(i=n;0!=i--;){var r=o[i];if(!C(t[r],e[r]))return!1}return!0}return t!=t&&e!=e}i.memo((function(t){var{loadingElement:e,onLoad:n,onError:o,onUnmount:s,children:a}=t;const{isLoaded:h,loadError:p}=function({id:t=m,version:e=v,nonce:n,googleMapsApiKey:o,googleMapsClientId:s,language:a,region:h,libraries:p,preventGoogleFontsLoading:u,channel:l,mapIds:c}){const g=i.useRef(!1),[_,C]=i.useState(!1),[b,w]=i.useState(void 0),M=(i.useEffect((function(){return g.current=!0,()=>{g.current=!1}}),[]),i.useEffect((function(){d&&u&&f()}),[u]),i.useEffect((function(){_&&r(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")}),[_]),function({googleMapsApiKey:t,googleMapsClientId:e,version:n="weekly",language:i,region:o,libraries:s,channel:a,mapIds:h}){const p=[];return r(t&&e||!(t&&e),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),t?p.push("key="+t):e&&p.push("client="+e),n&&p.push("v="+n),i&&p.push("language="+i),o&&p.push("region="+o),s&&s.length&&p.push("libraries="+s.sort().join(",")),a&&p.push("channel="+a),h&&h.length&&p.push("map_ids="+h.join(",")),p.push("callback=initMap"),"https://maps.googleapis.com/maps/api/js?"+p.join("&")}({version:e,googleMapsApiKey:o,googleMapsClientId:s,language:a,region:h,libraries:p,channel:l,mapIds:c})),x=(i.useEffect((function(){function e(){g.current&&(C(!0),y=M)}d&&(window.google&&window.google.maps&&y===M?e():(({url:t,id:e,nonce:n})=>d?new Promise((function(i,o){const r=document.getElementById(e),s=window;if(r){var a=r.getAttribute("data-state");if(r.src===t&&"error"!==a){if("ready"===a)return i(e);{const t=s.initMap,n=r.onerror;return s.initMap=function(){t&&t(),i(e)},void(r.onerror=function(t){n&&n(t),o(t)})}}r.remove()}const h=document.createElement("script");h.type="text/javascript",h.src=t,h.id=e,h.async=!0,h.nonce=n,h.onerror=function(t){h.setAttribute("data-state","error"),o(t)},s.initMap=function(){h.setAttribute("data-state","ready"),i(e)},document.head.appendChild(h)})).catch((t=>{throw console.error("injectScript error: ",t),t})):Promise.reject(new Error("document is undefined")))({id:t,url:M,nonce:n}).then(e).catch((function(t){g.current&&w(t),console.warn(`\n        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (${o||"-"}) or Client ID (${s||"-"})\n        Otherwise it is a Network issue.\n      `),console.error(t)})))}),[t,M,n]),i.useRef());return i.useEffect((function(){x.current&&p!==x.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),x.current=p}),[p]),{isLoaded:_,loadError:b,url:M}}(function(t,e){var n={};for(o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,o=Object.getOwnPropertySymbols(t);i<o.length;i++)e.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(t,o[i])&&(n[o[i]]=t[o[i]]);return n}(t,["loadingElement","onLoad","onError","onUnmount","children"]));return i.useEffect((function(){h&&"function"==typeof n&&n()}),[h,n]),i.useEffect((function(){p&&"function"==typeof o&&o(p)}),[p,o]),i.useEffect((function(){return()=>{s&&s()}}),[s]),h?a:e||_}));const b="__googleMapsScriptId";class w{constructor({apiKey:t,channel:e,client:n,id:i=b,libraries:o=[],language:r,region:s,version:a,mapIds:h,nonce:p,retries:u=3,url:l="https://maps.googleapis.com/maps/api/js"}){if(this.CALLBACK="__googleMapsCallback",this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.version=a,this.apiKey=t,this.channel=e,this.client=n,this.id=i||b,this.libraries=o,this.language=r,this.region=s,this.mapIds=h,this.nonce=p,this.retries=u,this.url=l,w.instance){if(C(this.options,w.instance.options))return w.instance;throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== `+JSON.stringify(w.instance.options))}w.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url}}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let t=this.url;return t+="?callback="+this.CALLBACK,this.apiKey&&(t+="&key="+this.apiKey),this.channel&&(t+="&channel="+this.channel),this.client&&(t+="&client="+this.client),0<this.libraries.length&&(t+="&libraries="+this.libraries.join(",")),this.language&&(t+="&language="+this.language),this.region&&(t+="&region="+this.region),this.version&&(t+="&v="+this.version),this.mapIds&&(t+="&map_ids="+this.mapIds.join(",")),t}deleteScript(){const t=document.getElementById(this.id);t&&t.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise(((t,e)=>{this.loadCallback((n=>{n?e(n.error):t(window.google)}))}))}loadCallback(t){this.callbacks.push(t),this.execute()}setScript(){if(document.getElementById(this.id))this.callback();else{var t=this.createUrl();const e=document.createElement("script");e.id=this.id,e.type="text/javascript",e.src=t,e.onerror=this.loadErrorCallback.bind(this),e.defer=!0,e.async=!0,this.nonce&&(e.nonce=this.nonce),document.head.appendChild(e)}}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(t){var e;this.errors.push(t),this.errors.length<=this.retries?(e=this.errors.length*Math.pow(2,this.errors.length),console.log(`Failed to load Google Maps script, retrying in ${e} ms.`),setTimeout((()=>{this.deleteScript(),this.setScript()}),e)):(this.onerrorEvent=t,this.callback())}setCallback(){window.__googleMapsCallback=this.callback.bind(this)}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach((t=>{t(this.onerrorEvent)})),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version)return console.warn("Google Maps already loaded outside @googlemaps/js-api-loader.This may result in undesirable behavior as options and script parameters may not match."),void this.callback();this.loading||(this.loading=!0,this.setCallback(),this.setScript())}}}function M({id:t=m,version:e=v,nonce:n,googleMapsApiKey:o,language:r,region:s,libraries:a,preventGoogleFontsLoading:h,mapIds:p}){const u=i.useRef(!1),[l,c]=i.useState(!1),[g,y]=i.useState(void 0),_=(i.useEffect((function(){return u.current=!0,()=>{u.current=!1}}),[]),i.useMemo((function(){return new w({id:t,apiKey:o,version:e,libraries:a,language:r,region:s,mapIds:p,nonce:n})}),[t,o,e,a,r,s,p,n])),C=(i.useEffect((function(){l||_.load().then((function(){u.current&&c(!0)})).catch((function(t){y(t)}))}),[]),i.useEffect((function(){d&&h&&f()}),[h]),i.useRef());return i.useEffect((function(){C.current&&a!==C.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),C.current=a}),[a]),{isLoaded:l,loadError:g}}i.PureComponent,i.PureComponent,i.PureComponent,i.PureComponent;const x={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},E={animation(t,e){t.setAnimation(e)},clickable(t,e){t.setClickable(e)},cursor(t,e){t.setCursor(e)},draggable(t,e){t.setDraggable(e)},icon(t,e){t.setIcon(e)},label(t,e){t.setLabel(e)},map(t,e){t.setMap(e)},opacity(t,e){t.setOpacity(e)},options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},shape(t,e){t.setShape(e)},title(t,e){t.setTitle(e)},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}};class P extends i.PureComponent{constructor(){super(...arguments),this.registeredEvents=[]}componentDidMount(){var t=Object.assign(Object.assign(Object.assign({},this.props.options||{}),this.props.clusterer?{}:{map:this.context}),{position:this.props.position});this.marker=new google.maps.Marker(t),this.props.clusterer?this.props.clusterer.addMarker(this.marker,!!this.props.noClustererRedraw):this.marker.setMap(this.context),this.registeredEvents=p({updaterMap:E,eventMap:x,prevProps:{},nextProps:this.props,instance:this.marker}),this.props.onLoad&&this.props.onLoad(this.marker)}componentDidUpdate(t){this.marker&&(h(this.registeredEvents),this.registeredEvents=p({updaterMap:E,eventMap:x,prevProps:t,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),h(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){let t=null;return(t=this.props.children?i.Children.map(this.props.children,(t=>i.isValidElement(t)?i.cloneElement(t,{anchor:this.marker}):t)):t)||null}}P.contextType=s,i.PureComponent,i.PureComponent,e=6371008.8;n={eudist:function(t,e,n){for(var i=t.length,o=0,r=0;r<i;r++){var s=(t[r]||0)-(e[r]||0);o+=s*s}return n?Math.sqrt(o):o},mandist:function(t,e,n){for(var i=t.length,o=0,r=0;r<i;r++)o+=Math.abs((t[r]||0)-(e[r]||0));return n?Math.sqrt(o):o},dist:function(t,e,n){return t=Math.abs(t-e),n?t:t*t}};var k=n.eudist,I=n.dist;e={kmrand:function(t,e){for(var n={},i=[],o=e<<2,r=t.length,s=0<t[0].length;i.length<e&&0<o--;){var a=t[Math.floor(Math.random()*r)],h=s?a.join("_"):""+a;n[h]||(n[h]=!0,i.push(a))}if(i.length<e)throw new Error("Error initializating clusters");return i},kmpp:function(t,e){var n=t[0].length?k:I,i=[],o=t.length,r=0<t[0].length,s=t[Math.floor(Math.random()*o)];for(r&&s.join("_"),i.push(s);i.length<e;){for(var a=[],h=i.length,p=0,u=[],l=0;l<o;l++){for(var c=1/0,d=0;d<h;d++){var g=n(t[l],i[d]);g<=c&&(c=g)}a[l]=c}for(var f=0;f<o;f++)p+=a[f];for(var m=0;m<o;m++)u[m]={i:m,v:t[m],pr:a[m]/p,cs:0};u.sort((function(t,e){return t.pr-e.pr})),u[0].cs=u[0].pr;for(var v=1;v<o;v++)u[v].cs=u[v-1].cs+u[v].pr;for(var y=Math.random(),_=0;_<o-1&&u[_++].cs<y;);i.push(u[_-1].v)}return i}};function L(t,e,n,i){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(t,e,n,i)}n={exports:{}},S=e={exports:{}},L.prototype.run=function(t,e,n,i){this._init(t,e,n,i);for(var o,r,s=0;s<this._datasetLength;s++)1!==this._visited[s]&&(this._visited[s]=1,(o=this._regionQuery(s)).length<this.minPts?this.noise.push(s):(r=this.clusters.length,this.clusters.push([]),this._addToCluster(s,r),this._expandCluster(r,o)));return this.clusters},L.prototype._init=function(t,e,n,i){if(t){if(!(t instanceof Array))throw Error("Dataset must be of type array, "+typeof t+" given");this.dataset=t,this.clusters=[],this.noise=[],this._datasetLength=t.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}e&&(this.epsilon=e),n&&(this.minPts=n),i&&(this.distance=i)},L.prototype._expandCluster=function(t,e){for(var n=0;n<e.length;n++){var i,o=e[n];1!==this._visited[o]&&(this._visited[o]=1,(i=this._regionQuery(o)).length>=this.minPts&&(e=this._mergeArrays(e,i))),1!==this._assigned[o]&&this._addToCluster(o,t)}},L.prototype._addToCluster=function(t,e){this.clusters[e].push(t),this._assigned[t]=1},L.prototype._regionQuery=function(t){for(var e=[],n=0;n<this._datasetLength;n++)this.distance(this.dataset[t],this.dataset[n])<this.epsilon&&e.push(n);return e},L.prototype._mergeArrays=function(t,e){for(var n=e.length,i=0;i<n;i++){var o=e[i];t.indexOf(o)<0&&t.push(o)}return t},L.prototype._euclideanDistance=function(t,e){for(var n=0,i=Math.min(t.length,e.length);i--;)n+=(t[i]-e[i])*(t[i]-e[i]);return Math.sqrt(n)},S.exports&&(S.exports=L);var S={exports:{}};function O(t,e,n){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(t,e,n)}N=S,O.prototype.init=function(t,e,n){this.assignments=[],this.centroids=[],void 0!==t&&(this.dataset=t),void 0!==e&&(this.k=e),void 0!==n&&(this.distance=n)},O.prototype.run=function(t,e){this.init(t,e);for(var n=this.dataset.length,i=0;i<this.k;i++)this.centroids[i]=this.randomCentroid();for(var o=!0;o;){o=this.assign();for(var r=0;r<this.k;r++){for(var s=new Array(u),a=0,h=0;h<u;h++)s[h]=0;for(var p=0;p<n;p++){var u=this.dataset[p].length;if(r===this.assignments[p]){for(h=0;h<u;h++)s[h]+=this.dataset[p][h];a++}}if(0<a){for(h=0;h<u;h++)s[h]/=a;this.centroids[r]=s}else this.centroids[r]=this.randomCentroid(),o=!0}}return this.getClusters()},O.prototype.randomCentroid=function(){for(var t,e,n=this.dataset.length-1;e=Math.round(Math.random()*n),t=this.dataset[e],0<=this.centroids.indexOf(t););return t},O.prototype.assign=function(){for(var t,e=!1,n=this.dataset.length,i=0;i<n;i++)(t=this.argmin(this.dataset[i],this.centroids,this.distance))!=this.assignments[i]&&(this.assignments[i]=t,e=!0);return e},O.prototype.getClusters=function(){for(var t,e=new Array(this.k),n=0;n<this.assignments.length;n++)void 0===e[t=this.assignments[n]]&&(e[t]=[]),e[t].push(n);return e},O.prototype.argmin=function(t,e,n){for(var i,o=Number.MAX_VALUE,r=0,s=e.length,a=0;a<s;a++)(i=n(t,e[a]))<o&&(o=i,r=a);return r},O.prototype.distance=function(t,e){for(var n=0,i=Math.min(t.length,e.length);i--;){var o=t[i]-e[i];n+=o*o}return Math.sqrt(n)},N.exports&&(N.exports=O);var T,A,j,D,R,z,U,N={exports:{}},Z={exports:{}};function q(t,e,n){this._queue=[],this._priorities=[],this._sorting="desc",this._init(t,e,n)}function W(t,e,n,i){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(t,e,n,i)}function F(t,e,n,i,o,r){for(;i<o;){600<o-i&&(s=o-i+1,a=n-i+1,p=Math.log(s),h=.5*Math.exp(2*p/3),p=.5*Math.sqrt(p*h*(s-h)/s)*(a-s/2<0?-1:1),F(t,e,n,Math.max(i,Math.floor(n-a*h/s+p)),Math.min(o,Math.floor(n+(s-a)*h/s+p)),r));var s,a,h,p,u=e[2*n+r],l=i,c=o;for(K(t,e,i,n),e[2*o+r]>u&&K(t,e,i,o);l<c;){for(K(t,e,l,c),l++,c--;e[2*l+r]<u;)l++;for(;e[2*c+r]>u;)c--}e[2*i+r]===u?K(t,e,i,c):K(t,e,++c,o),c<=n&&(i=c+1),n<=c&&(o=c-1)}}function K(t,e,n,i){B(t,n,i),B(e,2*n,2*i),B(e,2*n+1,2*i+1)}function B(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function Q(t,e,n,i){return(t-=n)*t+(n=e-i)*n}function V(t){return{type:"Feature",id:t.id,properties:G(t),geometry:{type:"Point",coordinates:[360*(t.x-.5),function(t){return t=(180-360*t)*Math.PI/180,360*Math.atan(Math.exp(t))/Math.PI-90}(t.y)]}}}function G(t){var e=t.numPoints,n=1e4<=e?Math.round(e/1e3)+"k":1e3<=e?Math.round(e/100)/10+"k":e;return J(J({},t.properties),{cluster:!0,cluster_id:t.id,point_count:e,point_count_abbreviated:n})}function H(t){return t/360+.5}function Y(t){return t=Math.sin(t*Math.PI/180),(t=.5-.25*Math.log((1+t)/(1-t))/Math.PI)<0?0:1<t?1:t}function J(t,e){for(var n in e)t[n]=e[n];return t}function $(t){return t.x}function X(t){return t.y}U=Z,q.prototype.insert=function(t,e){for(var n=this._queue.length,i=n;i--;){var o=this._priorities[i];"desc"===this._sorting?o<e&&(n=i):e<o&&(n=i)}this._insertAt(t,e,n)},q.prototype.remove=function(t){for(var e=this._queue.length;e--;)if(t===this._queue[e]){this._queue.splice(e,1),this._priorities.splice(e,1);break}},q.prototype.forEach=function(t){this._queue.forEach(t)},q.prototype.getElements=function(){return this._queue},q.prototype.getElementPriority=function(t){return this._priorities[t]},q.prototype.getPriorities=function(){return this._priorities},q.prototype.getElementsWithPriorities=function(){for(var t=[],e=0,n=this._queue.length;e<n;e++)t.push([this._queue[e],this._priorities[e]]);return t},q.prototype._init=function(t,e,n){if(t&&e){if(this._queue=[],this._priorities=[],t.length!==e.length)throw new Error("Arrays must have the same length");for(var i=0;i<t.length;i++)this.insert(t[i],e[i])}n&&(this._sorting=n)},q.prototype._insertAt=function(t,e,n){this._queue.length===n?(this._queue.push(t),this._priorities.push(e)):(this._queue.splice(n,0,t),this._priorities.splice(n,0,e))},U.exports&&(U.exports=q),(U=N).exports&&(T=Z.exports),W.prototype.run=function(t,e,n,i){this._init(t,e,n,i);for(var o,r,s,a=0,h=this.dataset.length;a<h;a++)1!==this._processed[a]&&(this._processed[a]=1,this.clusters.push([a]),o=this.clusters.length-1,this._orderedList.push(a),r=new T(null,null,"asc"),s=this._regionQuery(a),void 0!==this._distanceToCore(a)&&(this._updateQueue(a,s,r),this._expandCluster(o,r)));return this.clusters},W.prototype.getReachabilityPlot=function(){for(var t=[],e=0,n=this._orderedList.length;e<n;e++){var i=this._orderedList[e],o=this._reachability[i];t.push([i,o])}return t},W.prototype._init=function(t,e,n,i){if(t){if(!(t instanceof Array))throw Error("Dataset must be of type array, "+typeof t+" given");this.dataset=t,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}e&&(this.epsilon=e),n&&(this.minPts=n),i&&(this.distance=i)},W.prototype._updateQueue=function(t,e,n){var i=this;this._coreDistance=this._distanceToCore(t),e.forEach((function(e){var o;void 0===i._processed[e]&&(o=i.distance(i.dataset[t],i.dataset[e]),o=Math.max(i._coreDistance,o),void 0===i._reachability[e]?(i._reachability[e]=o,n.insert(e,o)):o<i._reachability[e]&&(i._reachability[e]=o,n.remove(e),n.insert(e,o)))}))},W.prototype._expandCluster=function(t,e){for(var n=e.getElements(),i=0,o=n.length;i<o;i++){var r,s=n[i];void 0===this._processed[s]&&(r=this._regionQuery(s),this._processed[s]=1,this.clusters[t].push(s),this._orderedList.push(s),void 0!==this._distanceToCore(s)&&(this._updateQueue(s,r,e),this._expandCluster(t,e)))}},W.prototype._distanceToCore=function(t){for(var e=this.epsilon,n=0;n<e;n++)if(this._regionQuery(t,n).length>=this.minPts)return n},W.prototype._regionQuery=function(t,e){e=e||this.epsilon;for(var n=[],i=0,o=this.dataset.length;i<o;i++)this.distance(this.dataset[t],this.dataset[i])<e&&n.push(i);return n},W.prototype._euclideanDistance=function(t,e){for(var n=0,i=Math.min(t.length,e.length);i--;)n+=(t[i]-e[i])*(t[i]-e[i]);return Math.sqrt(n)},U.exports&&(U.exports=W),(U=n).exports&&(U.exports={DBSCAN:e.exports,KMEANS:S.exports,OPTICS:N.exports,PriorityQueue:Z.exports}),A=function(t){return t[0]},j=function(t){return t[1]},(D=function(t,e,n,i,o){void 0===e&&(e=A),void 0===n&&(n=j),void 0===i&&(i=64),void 0===o&&(o=Float64Array),this.nodeSize=i;for(var r=(this.points=t).length<65536?Uint16Array:Uint32Array,s=this.ids=new r(t.length),a=this.coords=new o(2*t.length),h=0;h<t.length;h++)a[2*(s[h]=h)]=e(t[h]),a[2*h+1]=n(t[h]);!function t(e,n,i,o,r,s){if(!(r-o<=i)){var a=o+r>>1;F(e,n,a,o,r,s%2),t(e,n,i,o,a-1,s+1),t(e,n,i,1+a,r,s+1)}}(s,a,i,0,s.length-1,0)}).prototype.range=function(t,e,n,i){for(var o,r,s=this.ids,a=this.coords,h=t,p=e,u=n,l=i,c=this.nodeSize,d=[0,s.length-1,0],g=[];d.length;){var f=d.pop(),m=d.pop(),v=d.pop();if(m-v<=c)for(var y=v;y<=m;y++)o=a[2*y],r=a[2*y+1],h<=o&&o<=u&&p<=r&&r<=l&&g.push(s[y]);else{var _=Math.floor((v+m)/2),C=(o=a[2*_],r=a[2*_+1],h<=o&&o<=u&&p<=r&&r<=l&&g.push(s[_]),(f+1)%2);(0===f?h<=o:p<=r)&&(d.push(v),d.push(_-1),d.push(C)),(0===f?o<=u:r<=l)&&(d.push(_+1),d.push(m),d.push(C))}}return g},R={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!(D.prototype.within=function(t,e,n){for(var i=this.ids,o=this.coords,r=t,s=e,a=n,h=this.nodeSize,p=[0,i.length-1,0],u=[],l=a*a;p.length;){var c=p.pop(),d=p.pop(),g=p.pop();if(d-g<=h)for(var f=g;f<=d;f++)Q(o[2*f],o[2*f+1],r,s)<=l&&u.push(i[f]);else{var m=Math.floor((g+d)/2),v=o[2*m],y=o[2*m+1],_=(Q(v,y,r,s)<=l&&u.push(i[m]),(c+1)%2);(0===c?r-a<=v:s-a<=y)&&(p.push(g),p.push(m-1),p.push(_)),(0===c?v<=r+a:y<=s+a)&&(p.push(m+1),p.push(d),p.push(_))}}return u}),generateId:!1,reduce:null,map:function(t){return t}},z=Math.fround||function(t){return function(e){return t[0]=+e,t[0]}}(new Float32Array(1)),(U=function(t){this.options=J(Object.create(R),t),this.trees=new Array(this.options.maxZoom+1)}).prototype.load=function(t){for(var e,n,i,o=(h=this.options).log,r=h.minZoom,s=h.maxZoom,a=h.nodeSize,h=(o&&console.time("total time"),"prepare "+t.length+" points"),p=(o&&console.time(h),this.points=t,[]),u=0;u<t.length;u++)t[u].geometry&&p.push((n=u,void 0,i=(e=(e=t[u]).geometry.coordinates)[0],e=e[1],{x:z(H(i)),y:z(Y(e)),zoom:1/0,index:n,parentId:-1}));this.trees[s+1]=new D(p,$,X,a,Float32Array),o&&console.timeEnd(h);for(var l=s;r<=l;l--){var c=+Date.now();p=this._cluster(p,l);this.trees[l]=new D(p,$,X,a,Float32Array),o&&console.log("z%d: %d clusters in %dms",l,p.length,+Date.now()-c)}return o&&console.timeEnd("total time"),this},U.prototype.getClusters=function(t,e){var n,i=((t[0]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,t[1])),r=180===t[2]?180:((t[2]+180)%360+360)%360-180,s=Math.max(-90,Math.min(90,t[3]));if(360<=t[2]-t[0])i=-180,r=180;else if(r<i)return t=this.getClusters([i,o,180,s],e),n=this.getClusters([-180,o,r,s],e),t.concat(n);for(var a=this.trees[this._limitZoom(e)],h=[],p=0,u=a.range(H(i),Y(s),H(r),Y(o));p<u.length;p+=1){var l=u[p];l=a.points[l];h.push(l.numPoints?V(l):this.points[l.index])}return h},U.prototype.getChildren=function(t){var e=this._getOriginId(t),n=this._getOriginZoom(t),i="No cluster with the specified id.",o=this.trees[n];if(!o)throw new Error(i);if(!(e=o.points[e]))throw new Error(i);n=this.options.radius/(this.options.extent*Math.pow(2,n-1));for(var r=[],s=0,a=o.within(e.x,e.y,n);s<a.length;s+=1){var h=a[s];(h=o.points[h]).parentId===t&&r.push(h.numPoints?V(h):this.points[h.index])}if(0===r.length)throw new Error(i);return r},U.prototype.getLeaves=function(t,e,n){var i=[];return this._appendLeaves(i,t,e=e||10,n=n||0,0),i},U.prototype.getTile=function(t,e,n){var i,o=this.trees[this._limitZoom(t)],r=(t=Math.pow(2,t),(i=this.options).extent),s=(r=(n-(i=i.radius/r))/t,(n+1+i)/t),a={features:[]};return this._addTileFeatures(o.range((e-i)/t,r,(e+1+i)/t,s),o.points,e,n,t,a),0===e&&this._addTileFeatures(o.range(1-i/t,r,1,s),o.points,t,n,t,a),e===t-1&&this._addTileFeatures(o.range(0,r,i/t,s),o.points,-1,n,t,a),a.features.length?a:null},U.prototype.getClusterExpansionZoom=function(t){for(var e=this._getOriginZoom(t)-1;e<=this.options.maxZoom;){var n=this.getChildren(t);if(e++,1!==n.length)break;t=n[0].properties.cluster_id}return e},U.prototype._appendLeaves=function(t,e,n,i,o){for(var r=0,s=this.getChildren(e);r<s.length;r+=1){var a=s[r],h=a.properties;if(h&&h.cluster?o+h.point_count<=i?o+=h.point_count:o=this._appendLeaves(t,h.cluster_id,n,i,o):o<i?o++:t.push(a),t.length===n)break}return o},U.prototype._addTileFeatures=function(t,e,n,i,o,r){for(var s=0,a=t;s<a.length;s+=1){var h,p=e[a[s]],u=p.numPoints,l=void 0,c=void 0,d=(h=u?(l=G(p),c=p.x,p.y):(l=(d=this.points[p.index]).properties,c=H(d.geometry.coordinates[0]),Y(d.geometry.coordinates[1])),{type:1,geometry:[[Math.round(this.options.extent*(c*o-n)),Math.round(this.options.extent*(h*o-i))]],tags:l});c=void 0;u?c=p.id:this.options.generateId?c=p.index:this.points[p.index].id&&(c=this.points[p.index].id),void 0!==c&&(d.id=c),r.features.push(d)}},U.prototype._limitZoom=function(t){return Math.max(this.options.minZoom,Math.min(+t,this.options.maxZoom+1))},U.prototype._cluster=function(t,e){for(var n,i,o,r=[],s=this.options,a=s.radius,h=s.extent,p=s.reduce,u=s.minPoints,l=a/(h*Math.pow(2,e)),c=0;c<t.length;c++){var d=t[c];if(!(d.zoom<=e)){d.zoom=e;for(var g=this.trees[e+1],f=g.within(d.x,d.y,l),m=d.numPoints||1,v=m,y=0,_=f;y<_.length;y+=1){var C=_[y];(C=g.points[C]).zoom>e&&(v+=C.numPoints||1)}if(m<v&&u<=v){for(var b=d.x*m,w=d.y*m,M=p&&1<m?this._map(d,!0):null,x=(c<<5)+(e+1)+this.points.length,E=0,P=f;E<P.length;E+=1){var k,I=P[E];(I=g.points[I]).zoom<=e||(I.zoom=e,k=I.numPoints||1,b+=I.x*k,w+=I.y*k,I.parentId=x,p&&p(M=M||this._map(d,!0),this._map(I)))}d.parentId=x,r.push((m=w/v,n=x,o=M,{x:z(b/(i=v)),y:z(m),zoom:1/0,id:n,parentId:-1,numPoints:i,properties:o}))}else if(r.push(d),1<v)for(var L=0,S=f;L<S.length;L+=1){var O=S[L];(O=g.points[O]).zoom<=e||(O.zoom=e,r.push(O))}}}return r},U.prototype._getOriginId=function(t){return t-this.points.length>>5},U.prototype._getOriginZoom=function(t){return(t-this.points.length)%32},U.prototype._map=function(t,e){if(t.numPoints)return e?J({},t.properties):t.properties;t=this.points[t.index].properties;var n=this.options.map(t);return e&&n===t?J({},n):n};var tt;(e=tt=tt||{}).CLUSTERING_BEGIN="clusteringbegin",e.CLUSTERING_END="clusteringend",e.CLUSTER_CLICK="click";const et={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},nt={options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},zIndex(t,e){t.setZIndex(e)}};class it extends i.PureComponent{constructor(){super(...arguments),this.registeredEvents=[],this.containerElement=null,this.state={infoWindow:null},this.open=(t,e)=>{e?t.open(this.context,e):t.getPosition()?t.open(this.context):r(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")},this.setInfoWindowCallback=()=>{null!==this.state.infoWindow&&null!==this.containerElement&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))}}componentDidMount(){const t=new google.maps.InfoWindow(Object.assign({},this.props.options||{}));this.containerElement=document.createElement("div"),this.registeredEvents=p({updaterMap:nt,eventMap:et,prevProps:{},nextProps:this.props,instance:t}),this.setState((function(){return{infoWindow:t}}),this.setInfoWindowCallback)}componentDidUpdate(t){null!==this.state.infoWindow&&(h(this.registeredEvents),this.registeredEvents=p({updaterMap:nt,eventMap:et,prevProps:t,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){null!==this.state.infoWindow&&(h(this.registeredEvents),this.state.infoWindow.close())}render(){return this.containerElement?o.createPortal(i.Children.only(this.props.children),this.containerElement):i.createElement(i.Fragment,null)}}it.contextType=s,i.PureComponent,i.PureComponent,i.PureComponent,i.PureComponent,i.PureComponent,i.PureComponent,i.PureComponent,i.PureComponent,i.PureComponent,i.PureComponent,i.PureComponent,i.PureComponent,i.PureComponent,i.PureComponent,i.PureComponent,i.PureComponent}}]);