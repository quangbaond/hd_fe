"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3225],{3225:function(n,l,e){function t(n){n=n.branch;var l=(0,r.useState)(null),e=l[0];return l[1],null!=n&&n.name?(0,p.jsxs)("li",{className:"panel_list__item",children:[(0,p.jsxs)("div",{className:"panel_list__item-title",children:[(0,p.jsx)("em",{className:"material-icons",children:"place"}),(0,p.jsxs)("p",{children:[n.name," ",e&&"(".concat(e," Km)")]}),(0,p.jsxs)("a",{lat:n.location.lat,lng:n.location.lng,className:"clickDr",role:"button",children:[" ",(0,p.jsx)(m.Z,{src:"/asset/images/icons/location.png"})]})]}),(0,p.jsxs)("div",{className:"panel_list__item-desc",children:[(0,p.jsx)("p",{children:n.address}),(0,p.jsxs)("p",{className:"p-custom-opacity",children:[(null==n?void 0:n.tel)&&(0,p.jsxs)(p.Fragment,{children:["Tel:"," ",(0,p.jsxs)("a",{href:"tel:".concat(null==n||null==(l=n.tel)?void 0:l.replace("(","").replace(")","").replace(" ","")),children:[n.tel," "]})]}),(null==n?void 0:n.fax)&&(0,p.jsxs)(p.Fragment,{children:[" - Fax: ",n.fax]})]}),(0,p.jsx)("p",{children:(null==n?void 0:n.website)&&(0,p.jsxs)(p.Fragment,{children:["Website:"," ",(0,p.jsx)("a",{style:{color:"#0d6efd",cursor:"pointer"},href:null==n?void 0:n.website,target:"_blank",children:null==n?void 0:n.website})]})})]})]}):(0,p.jsx)("li",{})}function o(){var n={enableHighAccuracy:!0,maximumAge:6e5};if(navigator&&navigator.geolocation)return new Promise((function(l,e){navigator.geolocation.getCurrentPosition(l,e,n)}));alert("Geolocation is not supported by this browser.")}e.d(l,{Z:function(){return _}});var a=e(27812),i=e(59499),r=e(67294),c=e(14416),s=e(23157),u=e(36495),d=e(80342),m=e(46931),p=e(85893),v=(l=e(11163),e(37054)),h=r.memo((function(n){var l=n.markerLableData;return null===l?null:l&&(0,p.jsx)(v.nx,{position:{lat:parseFloat(l.location.lat),lng:parseFloat(l.location.lng)},labelAnchor:new google.maps.Point(l.location.lat,l.location.lng),labelClass:"marker-with-lable",onCloseClick:function(){n.hideMarkerLabel()},children:(0,p.jsxs)("div",{className:"marker-content",children:[(0,p.jsx)("div",{className:"name",children:l.name}),(0,p.jsx)("div",{className:"btn-hide-marker",id:"btn-hide-marker"}),(0,p.jsx)("div",{children:l.address}),l.tel&&(0,p.jsxs)(r.Fragment,{children:[(0,p.jsxs)("div",{children:["Tel: ",l.tel]}),(0,p.jsxs)("div",{children:["Fax: ",l.fax]})]}),(0,p.jsx)("div",{className:"see-google-map",id:"see-google-map",children:(0,p.jsx)("a",{onClick:function(n){window.open("https://www.google.com/maps/search/?api=1&query="+l.location.lat+","+l.location.lng,"_blank")},children:"Xem tr\xean google map"})})]})})})),f=(0,l.withRouter)((0,c.$j)((function(n){return{markerLableData:n.networkReducer.markerLableData}}),(function(n){return{hideMarkerLabel:function(){return n((0,d.YE)())}}}))(h)),g=e(67421),b={width:"100%",height:"600px"},j=r.memo((function(n){var l=(0,g.$G)("common").t,e=n.data,t=n.onMarkerClick,a=(0,c.I0)(),i=((0,c.v9)((function(n){return n.app})).language,(0,r.useRef)({})),s=(m=(0,r.useState)(!1))[0],u=m[1],m=(0,c.v9)((function(n){return n.networkReducer})),h=m.location,j=(m=(m.listNetwork,m.isMarkerLableShown),(w=(0,r.useState)(null))[0]),x=w[1],w=(0,v.Ji)({id:"google-map-script",googleMapsApiKey:null==n?void 0:n.Keygoogle}).isLoaded;return(0,r.useEffect)((function(){setTimeout((function(){s||u(!0)}),0)}),[e]),w?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(v.b6,{mapContainerStyle:b,center:null!=h?h:{lat:10.7863889,lng:106.6996755},zoom:14,options:{zoomControl:!1,fullscreenControl:!1},ref:function(n){return i.current=n},onLoad:function(n){},onUnmount:function(n){},children:[s&&(null==e?void 0:e.map((function(n,l){return(0,p.jsx)(v.Jx,{position:{lat:parseFloat(n.location.lat),lng:parseFloat(n.location.lng)},onClick:function(){t(n)},animation:google.maps.Animation.DROP},n.name)}))),m&&(0,p.jsx)(f,{}),j&&(0,p.jsx)(v.Jx,{position:{lat:parseFloat(null==j?void 0:j.lat),lng:parseFloat(null==j?void 0:j.lng)},icon:"/asset/images/my-location.png",animation:google.maps.Animation.BOUNCE})]}),(0,p.jsx)("div",{className:"my-location",children:(0,p.jsx)("button",{id:"my-location-btn",onClick:function(){o().then((function(n){n={lat:parseFloat(n.coords.latitude),lng:parseFloat(n.coords.longitude)},x(n),a((0,d.l6)({data:n}))}))},children:l("branch.your-location")})})]}):(0,p.jsx)(p.Fragment,{})})),x=e(94288),w=e(24013),k=e(19755);function N(n,l){var e,t=Object.keys(n);return Object.getOwnPropertySymbols&&(e=Object.getOwnPropertySymbols(n),l&&(e=e.filter((function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable}))),t.push.apply(t,e)),t}function y(n){for(var l=1;l<arguments.length;l++){var e=null!=arguments[l]?arguments[l]:{};l%2?N(Object(e),!0).forEach((function(l){(0,i.Z)(n,l,e[l])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):N(Object(e)).forEach((function(l){Object.defineProperty(n,l,Object.getOwnPropertyDescriptor(e,l))}))}return n}var _=function(n){var l,e=n.branchAtmProps,m=(0,c.v9)((function(n){return n.app})).language,v=(0,x.u)(),h=(F=(0,c.v9)((function(n){return n.commonReducer}))).province,f=F.district,b=F.commonHDBank,N=(F=(0,c.v9)((function(n){return n.networkReducer}))).listNetwork,_=F.location,C=(0,c.I0)(),F=(0,g.$G)("common").t,O=(l=(0,r.useState)({provinces:[],districts:[],listNetwork:{branch:[],atm:[]},model:{province:null,district:null}}))[0],P=l[1],E=(l=(0,r.useState)({keyGooole:""}))[0],L=l[1],D=(l=(0,r.useState)({lat:0,lng:0}))[0],S=l[1],M=((0,r.useEffect)((function(){k(document).on("click",".clickDr",(function(n){var l=k(this).attr("lat"),e=k(this).attr("lng");o().then((function(n){D.lat=parseFloat(n.coords.latitude),D.lng=parseFloat(n.coords.longitude),S(y({},D)),0!=D.lat?window.open("https://www.google.com/maps/dir/"+D.lat+","+D.lng+"/"+l+","+e,"_blank"):window.open("https://www.google.com/maps/dir//"+l+","+e,"_blank")}))}))}),[]),(0,r.useEffect)((function(){var n,l;_&&(n=(0,w.i_)(null==_?void 0:_.lat,null==_?void 0:_.lng,null==O?void 0:O.listNetwork.branch),l=(0,w.i_)(null==_?void 0:_.lat,null==_?void 0:_.lng,null==O?void 0:O.listNetwork.atm),O.listNetwork.branch=n,O.listNetwork.atm=l,P(y({},O)))}),[_]),(0,r.useEffect)((function(){var n,l,e=null==(e=v.location)||null==(e=e.data)?void 0:e.address_components;e&&0<(null==(l=O.provinces)?void 0:l.length)&&(n=null==e?void 0:e.find((function(n){return n.types.some((function(n){return["administrative_area_level_1"].includes(n)}))})))&&(e=null==(l=O.provinces)?void 0:l.find((function(l){var e;return(null==l||null==(e=l.name)||null==(e=e.toLowerCase())?void 0:e.includes(null==n||null==(e=n.short_name)?void 0:e.toLowerCase()))||(null==l||null==(e=l.name)||null==(l=e.toLowerCase())?void 0:l.includes(null==n||null==(e=n.long_name)?void 0:e.toLowerCase()))})))&&(M(e,{name:"province"}),setTimeout((function(){k("#my-location-btn").trigger("click")}),2e3))}),[null==(l=v.location)?void 0:l.data,O.provinces]),(0,r.useEffect)((function(){var n;b&&(E.keyGooole=null==b||null==(n=b.data)||null==(n=n.social)?void 0:n.googleMap,L(y({},E))),null!=h&&h.data&&(O.provinces=(0,a.Z)(null!=(n=null==h||null==(n=h.data)?void 0:n.map((function(n){return n.label=n.name,n.value=n.id,n})))?n:[]),P(y({},O)))}),[h]),(0,r.useEffect)((function(){var n;null!=f&&f.data&&(O.districts=(0,a.Z)(null!=(n=null==f||null==(n=f.data)?void 0:n.map((function(n){return n.label=n.name,n.value=n.id,n})))?n:[]),P(y({},O)))}),[f]),(0,r.useEffect)((function(){var n;e.branch?null!=N&&null!=(n=N.branchs)&&n.data&&P(y(y({},O),{},{listNetwork:{branch:null!=(n=null==N||null==(n=N.branchs)?void 0:n.data)?n:[],atm:[]}})):null!=N&&null!=(n=N.atms)&&n.data&&P(y(y({},O),{},{listNetwork:{atm:null!=(n=null==N||null==(n=N.atms)?void 0:n.data)?n:[],branch:[]}}))}),[N]),(0,r.useEffect)((function(){var n;O.model.province&&(O.model.district?C((0,d.l6)({data:null==(n=O.model.district)?void 0:n.location})):C((0,d.l6)({data:null==(n=O.model.province)?void 0:n.location}))),e.branch?C((0,d.b4)({local:m,params:{provinceName:null!=(n=null==(n=O.model.province)?void 0:n.name)?n:null,districtName:null!=(n=null==(n=O.model.district)?void 0:n.name)?n:null}})):C((0,d.UF)({local:m,params:{provinceName:null!=(n=null==(n=O.model.province)?void 0:n.name)?n:null,districtName:null!=(n=null==(n=O.model.district)?void 0:n.name)?n:null}}))}),[O.model,e]),function(n,l){"province"===l.name&&(O.model=y(y({},O.model),{},{district:null}),O.districts=[],P(y({},O)),C((0,u._h)({local:m,province_id:n.id}))),P(y(y({},O),{},{model:y(y({},O.model),{},(0,i.Z)({},l.name,n))}))});return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"group-iput",children:[(0,p.jsxs)("div",{className:"form-group",children:[(0,p.jsx)("input",{className:"form-control",onChange:function(n){var l,t,o=null==(n=n.target)?void 0:n.value;if(o&&N)try{O.listNetwork[e.branch?"branch":"atm"]=null==(l=N[e.branch?"branchs":"atms"])||null==(t=l.data)?void 0:t.filter((function(n){return-1<n.name.toLowerCase().search(o.toLowerCase())})),P(y({},O))}catch(n){}},type:"text",placeholder:F("branch.searchBrabnch")}),(0,p.jsx)("button",{type:"submit",children:(0,p.jsx)("em",{className:"material-icons",children:"search"})})]}),(0,p.jsx)("div",{className:"form-group",children:(0,p.jsx)(s.ZP,{className:"form-control",value:null==O?void 0:O.model.province,name:"province",onChange:M,options:null==O?void 0:O.provinces,placeholder:F("branch.province"),instanceId:"select-province"},"province")}),(0,p.jsx)("div",{className:"form-group",children:(0,p.jsx)(s.ZP,{className:"form-control",value:null==O?void 0:O.model.district,name:"district",onChange:M,options:null==O?void 0:O.districts,placeholder:F("branch.district"),instanceId:"select-district"},"district")})]}),(0,p.jsx)("div",{className:"panel active",children:(0,p.jsxs)("div",{className:"row",children:[(0,p.jsx)("div",{className:"col-sm-12 col-lg-6",children:(0,p.jsx)("ul",{className:"panel_list",children:(null==O?void 0:O.listNetwork[e.branch?"branch":"atm"])&&(null==O||null==(l=O.listNetwork[e.branch?"branch":"atm"])?void 0:l.map((function(n,l){return(0,p.jsx)(t,{branch:n},l)})))})}),(0,p.jsx)("div",{className:"col-sm-12 col-lg-6",children:(0,p.jsx)("div",{className:"map",children:function(){var l;if(b)return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(j,{data:null==O?void 0:O.listNetwork[e.branch?"branch":"atm"],Keygoogle:null==b||null==(l=b.data)||null==(l=l.social)?void 0:l.googleMap,onMarkerClick:n.onMarkerClick})})}()})})]})})]})}}}]);